
# ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุชุนุฏุฏ ุงููููุงุช

ูููุญู ูุฐุง ุงููุธุงู ุงููุฏุฑุฉ ุนูู ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ุนุจุฑ ูููุงุช ูุชุนุฏุฏุฉ ุจูุง ูู ุฐูู ุงูุชุทุจูู ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุงูุฑุณุงุฆู ุงููุตูุฉ ุงููุตูุฑุฉ (SMS).

## ุงูููุฒุงุช

- ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ุฏุงุฎู ุงูุชุทุจูู
- ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุจุงุณุชุฎุฏุงู Nodemailer
- ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ุนุจุฑ ุงูุฑุณุงุฆู ุงููุตูุฉ ุงููุตูุฑุฉ ุจุงุณุชุฎุฏุงู Twilio
- ุชุฎุตูุต ุชูุถููุงุช ุงูุฅุดุนุงุฑุงุช ููู ูุณุชุฎุฏู
- ุงุฎุชุจุงุฑ ูููุงุช ุงูุฅุดุนุงุฑุงุช

## ุงููุชุทูุจุงุช

### ุจูุฆุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (SMTP)

ูุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑูููุ ูุฌุจ ุชูููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชุงููุฉ:

```
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@example.com
SMTP_PASS=your-email-password
```

### ุจูุฆุฉ ุงูุฑุณุงุฆู ุงููุตูุฉ (Twilio)

ูุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ุนุจุฑ ุงูุฑุณุงุฆู ุงููุตูุฉุ ูุฌุจ ุชูููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชุงููุฉ:

```
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890
```

## ุงูุงุณุชุฎุฏุงู

### ุฅุฑุณุงู ุฅุดุนุงุฑ ูุชุนุฏุฏ ุงููููุงุช

```typescript
import { sendMultiChannelNotification } from '@/lib/notification-sender-new';

// ุฅุฑุณุงู ุฅุดุนุงุฑ ุนุจุฑ ุงูุชุทุจูู ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุงูุฑุณุงุฆู ุงููุตูุฉ
await sendMultiChannelNotification({
  userId: 'user-id',
  title: 'ุนููุงู ุงูุฅุดุนุงุฑ',
  message: 'ูุต ุงูุฅุดุนุงุฑ',
  type: 'info',
  channels: ['app', 'email', 'sms'],
  actionUrl: 'https://example.com',
  icon: '๐ข'
});
```

### ุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏู

ูููู ูููุณุชุฎุฏููู ุชุฎุตูุต ุชูุถููุงุช ุงูุฅุดุนุงุฑุงุช ุงูุฎุงุตุฉ ุจูู ุนุจุฑ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช:

```
/settings/notifications
```

## ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุชู ุชุญุฏูุซ ูููุฐุฌ ุงููุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุดูู:

- `phone`: ุฑูู ูุงุชู ุงููุณุชุฎุฏู (ุงุฎุชูุงุฑู)
- `emailNotifications`: ุชูุถูู ุงุณุชูุงู ุฅุดุนุงุฑุงุช ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุงูุชุฑุงุถู: true)
- `smsNotifications`: ุชูุถูู ุงุณุชูุงู ุฅุดุนุงุฑุงุช ุงูุฑุณุงุฆู ุงููุตูุฉ (ุงูุชุฑุงุถู: false)

## ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API)

### ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช

```
POST /api/notifications/send
```

ุงูุจูุงูุงุช ุงููุทููุจุฉ:

```json
{
  "title": "ุนููุงู ุงูุฅุดุนุงุฑ",
  "message": "ูุต ุงูุฅุดุนุงุฑ",
  "type": "info|success|warning|error",
  "channels": ["app", "email", "sms"],
  "actionUrl": "https://example.com",
  "icon": "๐ข"
}
```

### ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช

```
GET /api/user/notification-settings
PUT /api/user/notification-settings
```

ุงูุจูุงูุงุช ุงููุทููุจุฉ ููุชุญุฏูุซ:

```json
{
  "emailNotifications": true,
  "smsNotifications": false,
  "phone": "+1234567890"
}
```

## ุงูุชุซุจูุช

1. ุชุซุจูุช ุงูุญุฒู ุงููุทููุจุฉ:

```bash
npm install nodemailer twilio
```

2. ุชูููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ

3. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```bash
npx prisma migrate dev --name notification-settings
```

4. ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู
