# ุฏููู ุงุฎุชุจุงุฑ ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ูุฅูุดุงุก ุงูุญุณุงุจ

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### 1. ุชุดุบูู ุงูุฎุงุฏู
```bash
npm run dev
```

ุงูุชุธุฑ ุญุชู ูุธูุฑ: `โ Ready in X ms` ุฃู `Local: http://localhost:3000`

### 2. ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ุงูุชููุงุฆูุฉ
ูู ูุงูุฐุฉ terminal ุฌุฏูุฏุฉ:
```bash
npm run test:login
```

ุฃู ูุฏููุงู:
```bash
npx tsx scripts/test-login-system.ts
```

---

## ๐ ุงูุงุฎุชุจุงุฑุงุช ุงูุชููุงุฆูุฉ

ุงูุณูุฑูุจุช ูุฎุชุจุฑ ุงูุชุงูู ุชููุงุฆูุงู:

### โ ุงุฎุชุจุงุฑุงุช ุงูุชุณุฌูู (Registration)
- [x] ุงูุชุญูู ูู ุตุญุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- [x] ุงูุชุญูู ูู ุทูู ูููุฉ ุงููุฑูุฑ (8 ุฃุญุฑู ุนูู ุงูุฃูู)
- [x] ุงูุชุญูู ูู ูุฌูุฏ ุญุฑู ูุจูุฑ ูู ูููุฉ ุงููุฑูุฑ
- [x] ุงูุชุญูู ูู ูุฌูุฏ ุฑูุฒ ุฎุงุต ูู ูููุฉ ุงููุฑูุฑ
- [x] ุงูุชุญูู ูู ุงูุญููู ุงููุงุฑุบุฉ
- [x] ุชุณุฌูู ูุงุฌุญ

### โ ุงุฎุชุจุงุฑุงุช ุชุณุฌูู ุงูุฏุฎูู (Login)
- [x] ุงูุชุญูู ูู ุตุญุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- [x] ุงูุชุญูู ูู ุทูู ูููุฉ ุงููุฑูุฑ
- [x] ุงูุชุญูู ูู ุงูุญููู ุงููุงุฑุบุฉ
- [x] ุชุณุฌูู ุฏุฎูู ุจุจูุงูุงุช ุฎุงุทุฆุฉ
- [x] ุชุณุฌูู ุฏุฎูู ูุงุฌุญ
- [x] ุงูุชุญูู ูู ูุฌูุฏ token ูู ุงูุงุณุชุฌุงุจุฉ
- [x] ุงูุชุญูู ูู ุตุญุฉ token (JWT format)

### โ ุงุฎุชุจุงุฑุงุช ุงูุฃูุงู
- [x] Rate Limiting (ุญุฏ ุงููุนุฏู)
- [x] CAPTCHA ุจุนุฏ 3 ูุญุงููุงุช ูุงุดูุฉ

---

## ๐งช ุงูุงุฎุชุจุงุฑ ุงููุฏูู (Manual Testing)

### ุงุฎุชุจุงุฑ 1: ุงูุชุญูู ูู ุงูุตุญุฉ - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ `http://localhost:3000/register`
2. ุฃุฏุฎู ุจุฑูุฏ ุฅููุชุฑููู ุบูุฑ ุตุญูุญ: `test` (ุจุฏูู @)
3. ุงุถุบุท "ุฅูุดุงุก ุงูุญุณุงุจ"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุฌุจ ุฃู ูุธูุฑ ุฎุทุฃ: "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ุตุงูุญ"
- โ ุงูุญูู ูุฌุจ ุฃู ูุธูุฑ ุจุญุฏูุฏ ุญูุฑุงุก

---

### ุงุฎุชุจุงุฑ 2: ุงูุชุญูู ูู ุงูุตุญุฉ - ูููุฉ ุงููุฑูุฑ ุงููุตูุฑุฉ

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ `http://localhost:3000/register`
2. ุฃุฏุฎู ุจุฑูุฏ ุตุญูุญ: `test@example.com`
3. ุฃุฏุฎู ูููุฉ ูุฑูุฑ ูุตูุฑุฉ: `Test1!` (7 ุฃุญุฑู)
4. ุงุถุบุท "ุฅูุดุงุก ุงูุญุณุงุจ"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุฌุจ ุฃู ูุธูุฑ ุฎุทุฃ: "ูููุฉ ุงููุฑูุฑ ูุฌุจ ุฃู ุชุชููู ูู 8 ุฃุญุฑู ุนูู ุงูุฃูู"

---

### ุงุฎุชุจุงุฑ 3: ุงูุชุญูู ูู ุงูุตุญุฉ - ุญููู ูุงุฑุบุฉ

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ `http://localhost:3000/login`
2. ุงุชุฑู ุงูุญููู ูุงุฑุบุฉ
3. ุงุถุบุท "ุชุณุฌูู ุงูุฏุฎูู"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงุฆู ุฎุทุฃ ููู ุญูู ูุงุฑุบ
- โ ูุฌุจ ุฃู ูุธูุฑ "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุทููุจ"
- โ ูุฌุจ ุฃู ูุธูุฑ "ูููุฉ ุงููุฑูุฑ ูุทููุจุฉ"

---

### ุงุฎุชุจุงุฑ 4: ุชุณุฌูู ุงูุฏุฎูู ุงููุงุฌุญ

**ุงูุฎุทูุงุช:**
1. ุฃูุดุฆ ุญุณุงุจ ุฌุฏูุฏ ุฃููุงู:
   ```bash
   npm run create-test-account
   ```
   ุฃู ุงุณุชุฎุฏู:
   - ุงูุจุฑูุฏ: `test@example.com`
   - ูููุฉ ุงููุฑูุฑ: `Test123!@#`

2. ุงูุชุญ `http://localhost:3000/login`
3. ุฃุฏุฎู ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
4. ุงุถุบุท "ุชุณุฌูู ุงูุฏุฎูู"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุฌุจ ุฃู ูุชู ุชุณุฌูู ุงูุฏุฎูู ุจูุฌุงุญ
- โ ูุฌุจ ุฃู ูุชู ุญูุธ token ูู localStorage/sessionStorage
- โ ูุฌุจ ุฃู ูุชู ุฅุนุงุฏุฉ ุงูุชูุฌูู ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
- โ ุงูุชุญ Developer Tools โ Application โ Local Storage
- โ ูุฌุจ ุฃู ุชุฌุฏ `auth_token` ู `user_data`

---

### ุงุฎุชุจุงุฑ 5: ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก - ุจูุงูุงุช ุฎุงุทุฆุฉ

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ `http://localhost:3000/login`
2. ุฃุฏุฎู ุจุฑูุฏ ุตุญูุญ: `test@example.com`
3. ุฃุฏุฎู ูููุฉ ูุฑูุฑ ุฎุงุทุฆุฉ: `WrongPassword123!`
4. ุงุถุบุท "ุชุณุฌูู ุงูุฏุฎูู"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุฌุจ ุฃู ูุธูุฑ ุฎุทุฃ: "ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู ุบูุฑ ุตุญูุญุฉ"
- โ ูุฌุจ ุฃู ูุธูุฑ ุงููููุฐุฌ ุจุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ

---

### ุงุฎุชุจุงุฑ 6: CAPTCHA ุจุนุฏ 3 ูุญุงููุงุช ูุงุดูุฉ

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ `http://localhost:3000/login`
2. ุญุงูู ุชุณุฌูู ุงูุฏุฎูู ุจุจูุงูุงุช ุฎุงุทุฆุฉ 3 ูุฑุงุช ูุชุชุงููุฉ
3. ูู ุงููุญุงููุฉ ุงูุฑุงุจุนุฉ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุฌุจ ุฃู ูุธูุฑ CAPTCHA
- โ ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ: "ูุฑุฌู ุฅููุงู ุงูุชุญูู ูู CAPTCHA ูููุชุงุจุนุฉ"
- โ ูุง ูููู ุชุณุฌูู ุงูุฏุฎูู ุจุฏูู ุฅููุงู CAPTCHA

---

### ุงุฎุชุจุงุฑ 7: Rate Limiting

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ `http://localhost:3000/login`
2. ุญุงูู ุชุณุฌูู ุงูุฏุฎูู ุจุจูุงูุงุช ุฎุงุทุฆุฉ 5-10 ูุฑุงุช ูุชุชุงููุฉ ุจุณุฑุนุฉ
3. ุจุนุฏ ุนุฏุฉ ูุญุงููุงุช

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุฌุจ ุฃู ูุธูุฑ ุฑุณุงูุฉ: "ุชู ุชุนููู ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู ูุคูุชุงู"
- โ ูุฌุจ ุฃู ูุธูุฑ ุนุฏุงุฏ ุชูุงุฒูู ููููุช ุงููุชุจูู
- โ ูุง ูููู ูุญุงููุฉ ุชุณุฌูู ุงูุฏุฎูู ุญุชู ุงูุชูุงุก ุงูููุช

---

### ุงุฎุชุจุงุฑ 8: 2FA (ุฅุฐุง ูุงู ููุนูุงู)

**ุงูุฎุทูุงุช:**
1. ุณุฌูู ุงูุฏุฎูู ุจุญุณุงุจ ููุนู 2FA
2. ุจุนุฏ ุฅุฏุฎุงู ุงูุจุฑูุฏ ููููุฉ ุงููุฑูุฑ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุฌุจ ุฃู ูุธูุฑ ูููุฐุฌ 2FA
- โ ูุฌุจ ุฃู ูุทูุจ ุฑูุฒ ูู 6 ุฃุฑูุงู
- โ ุฃุฏุฎู ุฑูุฒ ุตุญูุญ โ ูุฌุจ ุฃู ูุชู ุชุณุฌูู ุงูุฏุฎูู
- โ ุฃุฏุฎู ุฑูุฒ ุฎุงุทุฆ โ ูุฌุจ ุฃู ูุธูุฑ ุฎุทุฃ

**ููุงุญุธุฉ:** ูู ุจูุฆุฉ ุงูุชุทููุฑุ ููููู ุฑุคูุฉ ุฑูุฒ 2FA ูู Console ุฃู ูู ุงุณุชุฌุงุจุฉ API

---

## ๐ ูุญุต Console ู Network

### ูู Console (F12 โ Console):
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก JavaScript
- โ ุฑุณุงุฆู ุงูุชุญุฐูุฑ ูุงุถุญุฉ ููููุฏุฉ
- โ Token ูุชู ุญูุธู ุจุดูู ุตุญูุญ
- โ ูู ุญุงูุฉ 2FAุ ููููู ุฑุคูุฉ ุงูุฑูุฒ ูู Console (ูู ุจูุฆุฉ ุงูุชุทููุฑ)

### ูู Network (F12 โ Network):
- โ ุทูุจุงุช API ุชุนูู ุจุดูู ุตุญูุญ
- โ ุงุณุชุฌุงุจุฉ `/api/auth/login` ุชุญุชูู ุนูู `token` ู `user`
- โ Status Code: 200 ูููุฌุงุญุ 401 ูููุดูุ 403 ููู CAPTCHAุ 429 ููู Rate Limit
- โ Cookies ูุชู ุชุนููููุง ุจุดูู ุตุญูุญ (httpOnly cookies)

### ูู Application/Storage (F12 โ Application):
- โ Token ูุญููุธ ูู localStorage/sessionStorage
- โ User data ูุญููุธุฉ ุจุดูู ุตุญูุญ
- โ ูุง ุชูุฌุฏ ุจูุงูุงุช ูุฏููุฉ ุฃู ุบูุฑ ุตุญูุญุฉ

---

## ๐ ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑุงุช

ุจุนุฏ ุชุดุบูู `npm run test:login`ุ ุณุชุญุตู ุนูู ุชูุฑูุฑ ุดุงูู:

```
๐ Starting Login System Tests
============================================================

โณ Waiting for server to be ready...
โ Server is ready!

๐ Testing Registration Validation...
โ PASSED: Registration - Invalid email format
โ PASSED: Registration - Short password
...

๐ Test Summary
Total Tests: 15
โ Passed: 14
โ Failed: 1
Success Rate: 93.3%
```

---

## ๐ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ูุญููููุง

### ุฎุทุฃ: "Cannot connect to server"
**ุงูุญู:** ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู:
```bash
npm run dev
```

### ุฎุทุฃ: "ECONNREFUSED" ุฃู "fetch failed"
**ุงูุญู:** 
1. ุชุฃูุฏ ุฃู ุงูุฎุงุฏู ูุนูู ุนูู `http://localhost:3000`
2. ุงูุชุธุฑ ููููุงู ุญุชู ูุจุฏุฃ ุงูุฎุงุฏู ุจุงููุงูู
3. ุชุญูู ูู ุฃู ูุง ููุฌุฏ ุฎุทุฃ ูู console

### ุฎุทุฃ: "User not found" ูู ุงุฎุชุจุงุฑุงุช ุชุณุฌูู ุงูุฏุฎูู
**ุงูุญู:** ุฃูุดุฆ ุงูุญุณุงุจ ุงูุชุฌุฑูุจู ุฃููุงู:
```bash
npm run create-test-account
```

### ุฎุทุฃ: "Invalid token format"
**ุงูุญู:** 
1. ุงูุณุญ localStorage ู sessionStorage
2. ุฃุนุฏ ุงููุญุงููุฉ
3. ุชุญูู ูู ุฃู JWT_SECRET ููุฌูุฏ ูู `.env`

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ูู ุจูุฆุฉ ุงูุชุทููุฑ:**
   - ููููู ุฑุคูุฉ ุฑูุฒ 2FA ูู Console
   - ููููู ุงุณุชุฎุฏุงู ุงูุญุณุงุจ ุงูุชุฌุฑูุจู (test@example.com)

2. **ุงุฎุชุจุงุฑ Rate Limiting:**
   - ูุฏ ุชุญุชุงุฌ ุฅูู ุนุฏุฉ ูุญุงููุงุช ุณุฑูุนุฉ
   - ูุฏ ูุฎุชูู ุงูููุช ุญุณุจ ุฅุนุฏุงุฏุงุช Redis

3. **ุงุฎุชุจุงุฑ CAPTCHA:**
   - ูุชุทูุจ ุฅุนุฏุงุฏ HCAPTCHA_SITE_KEY ู HCAPTCHA_SECRET ูู `.env`
   - ูู ุญุงูุฉ ุนุฏู ุงูุฅุนุฏุงุฏุ ูุฏ ูุง ูุธูุฑ CAPTCHA

4. **ุงุฎุชุจุงุฑ 2FA:**
   - ูุฌุจ ุชูุนูู 2FA ุนูู ุงูุญุณุงุจ ุฃููุงู
   - ูู ุจูุฆุฉ ุงูุชุทููุฑุ ููููู ุฑุคูุฉ ุงูุฑูุฒ ูู Console

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

### Frontend:
- [ ] ุงูุชุญูู ูู ุงูุตุญุฉ ูุนูู ุจุดูู ุตุญูุญ
- [ ] ุฑุณุงุฆู ุงูุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ
- [ ] Token ูุชู ุญูุธู ูู localStorage/sessionStorage
- [ ] ุฅุนุงุฏุฉ ุงูุชูุฌูู ุชุนูู ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู ุงููุงุฌุญ
- [ ] CAPTCHA ูุธูุฑ ุจุนุฏ 3 ูุญุงููุงุช ูุงุดูุฉ
- [ ] Rate limiting ูุนูู ููุธูุฑ ุฑุณุงูุฉ ุงูุชุธุงุฑ

### Backend:
- [ ] API endpoints ุชุนูู ุจุดูู ุตุญูุญ
- [ ] ุงูุชุญูู ูู ุงูุตุญุฉ ูุนูู ุนูู Backend
- [ ] Token ูุชู ุฅูุดุงุคู ุจุดูู ุตุญูุญ (JWT format)
- [ ] Rate limiting ูุนูู
- [ ] CAPTCHA verification ูุนูู
- [ ] 2FA ูุนูู ุจุดูู ุตุญูุญ

### ุงูุฃูุงู:
- [ ] Rate limiting ูุนูู
- [ ] CAPTCHA ูุธูุฑ ุจุนุฏ 3 ูุญุงููุงุช
- [ ] ุงูุฑููุฒ ุงููููุฒุฉ ูุญููุฉ ุจู httpOnly cookies
- [ ] ุฑุณุงุฆู ุงูุฎุทุฃ ูุง ุชูุดู ูุนูููุงุช ุญุณุงุณุฉ
- [ ] ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูุนูู ุนูู Frontend ู Backend

---

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุฅููุงู ุฌููุน ุงูุงุฎุชุจุงุฑุงุชุ ูุฌุจ ุฃู ูุนูู ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ูุฅูุดุงุก ุงูุญุณุงุจ ุจุดูู:
- โ ุณูุณ ูุณุฑูุน
- โ ุขูู ููุญูู
- โ ููุฏู ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- โ ูุชุนุงูู ูุน ุฌููุน ุงูุญุงูุงุช ุจุดูู ุตุญูุญ
- โ ูุชุตู ุจุดูู ุตุญูุญ ุจูู Frontend ู Backend

---

## ๐ ุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู Console ูู ุงููุชุตูุญ
2. ุชุญูู ูู Network tab ูู Developer Tools
3. ุชุญูู ูู logs ูู terminal (ุงูุฎุงุฏู)
4. ุฑุงุฌุน ููู `LOGIN_SYSTEM_TEST.md` ููุชูุงุตูู ุงููุงููุฉ

